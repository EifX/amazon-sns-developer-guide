# Message security for FIFO topics<a name="fifo-message-security"></a>

You can choose to have Amazon SNS and Amazon SQS encrypt messages sent to FIFO topics and queues, using [AWS Key Management Service \(AWS KMS\)](https://aws.amazon.com/kms/) [customer master keys \(CMKs\)](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#master_keys)\. You can create encrypted FIFO topics and queues, or choose to encrypt existing FIFO topics and queues\. Amazon SNS and Amazon SQS encrypt only the body of the message\. They don't encrypt the message attributes, resource metadata, or resource metrics\.

**Note**  
Adding encryption to an existing FIFO topic or queue doesn't encrypt any backlogged messages, and removing encryption from a topic or queue leaves backlogged messages encrypted\.

SNS FIFO topics decrypt the messages immediately before delivering them to subscribed endpoints\. SQS FIFO queues decrypt the message just before returning them to the consumer application\. For more information, see [Data encryption](sns-data-encryption.md) and the [ Encrypting messages published to Amazon SNS with AWS KMS](https://aws.amazon.com/blogs/compute/encrypting-messages-published-to-amazon-sns-with-aws-kms/) post on the *AWS Compute Blog*\.

In addition, SNS FIFO topics and SQS FIFO queues support message privacy with [interface VPC endpoints](https://docs.aws.amazon.com/vpc/latest/userguide/vpce-interface.html) powered by AWS PrivateLink\. Using interface endpoints, you can send messages from Amazon Virtual Private Cloud \(Amazon VPC\) subnets to FIFO topics and queues without traversing the public internet\. This model keeps your messaging within the AWS infrastructure and network, which enhances the overall security of your application\. When you use AWS PrivateLink, you don't need to set up an internet gateway, network address translation \(NAT\), or virtual private network \(VPN\)\. For more information, see [Internetwork traffic privacy](sns-internetwork-traffic-privacy.md) and the [Securing messages published to Amazon SNS with AWS PrivateLink](https://aws.amazon.com/blogs/security/securing-messages-published-to-amazon-sns-with-aws-privatelink) post on the *AWS Security Blog*\.

SNS FIFO topics also support dead\-letter queues and message storage across Availability Zones\. For more information, see [Message durability for FIFO topics](fifo-message-durability.md)\.